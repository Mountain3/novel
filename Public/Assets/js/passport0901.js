function HelloShit(a,b,c,d){this.e=biFromHex(a),this.d=biFromHex(b),this.m=biFromHex(c),typeof d!="number"?this.chunkSize=2*biHighIndex(this.m):this.chunkSize=d/8,this.radix=16,this.barrett=new BarrettMu(this.m)}function hzasieckses(a,b,c,d){var e=new Array,f=b.length,g,h,i,j,k,l,m,n="",o,p,q;typeof c=="string"?c==RSAAPP.NoPadding?j=1:c==RSAAPP.PKCS1Padding?j=2:j=0:j=0,typeof d=="string"&&d==RSAAPP.RawEncoding?k=1:k=0,j==1?f>a.chunkSize&&(f=a.chunkSize):j==2&&f>a.chunkSize-11&&(f=a.chunkSize-11),g=0,j==2?h=f-1:h=a.chunkSize-1;while(g<f)j?e[h]=b.charCodeAt(g):e[g]=b.charCodeAt(g),g++,h--;j==1&&(g=0),h=a.chunkSize-f%a.chunkSize;while(h>0){if(j==2){l=Math.floor(Math.random()*256);while(!l)l=Math.floor(Math.random()*256);e[g]=l}else e[g]=0;g++,h--}j==2&&(e[f]=0,e[a.chunkSize-2]=2,e[a.chunkSize-1]=0),m=e.length;for(g=0;g<m;g+=a.chunkSize){o=new BigInt,h=0;for(i=g;i<g+a.chunkSize;++h)o.digits[h]=e[i++],o.digits[h]+=e[i++]<<8;p=a.barrett.powMod(o,a.e),k==1?q=biToBytes(p):q=a.radix==16?biToHex(p):biToString(p,a.radix),n+=q}return n}function decryptedString(a,b){var c=b.split(" "),d,e,f,g,h="";for(e=0;e<c.length;++e){a.radix==16?g=biFromHex(c[e]):g=biFromString(c[e],a.radix),d=a.barrett.powMod(g,a.d);for(f=0;f<=biHighIndex(d);++f)h+=String.fromCharCode(d.digits[f]&255,d.digits[f]>>8)}return h.charCodeAt(h.length-1)==0&&(h=h.substring(0,h.length-1)),h}function BarrettMu(a){this.modulus=biCopy(a),this.k=biHighIndex(this.modulus)+1;var b=new BigInt;b.digits[2*this.k]=1,this.mu=biDivide(b,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(a){var b=biDivideByRadixPower(a,this.k-1),c=biMultiply(b,this.mu),d=biDivideByRadixPower(c,this.k+1),e=biModuloByRadixPower(a,this.k+1),f=biMultiply(d,this.modulus),g=biModuloByRadixPower(f,this.k+1),h=biSubtract(e,g);h.isNeg&&(h=biAdd(h,this.bkplus1));var i=biCompare(h,this.modulus)>=0;while(i)h=biSubtract(h,this.modulus),i=biCompare(h,this.modulus)>=0;return h}function BarrettMu_multiplyMod(a,b){var c=biMultiply(a,b);return this.modulo(c)}function BarrettMu_powMod(a,b){var c=new BigInt;c.digits[0]=1;var d=a,e=b;for(;;){(e.digits[0]&1)!=0&&(c=this.multiplyMod(c,d)),e=biShiftRight(e,1);if(e.digits[0]==0&&biHighIndex(e)==0)break;d=this.multiplyMod(d,d)}return c}function setMaxDigits(a){maxDigits=a,ZERO_ARRAY=new Array(maxDigits);for(var b=0;b<ZERO_ARRAY.length;b++)ZERO_ARRAY[b]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(a){typeof a=="boolean"&&a==1?this.digits=null:this.digits=ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(a){var b=a.charAt(0)=="-",c=b?1:0,d;while(c<a.length&&a.charAt(c)=="0")++c;if(c==a.length)d=new BigInt;else{var e=a.length-c,f=e%dpl10;f==0&&(f=dpl10),d=biFromNumber(Number(a.substr(c,f))),c+=f;while(c<a.length)d=biAdd(biMultiply(d,lr10),biFromNumber(Number(a.substr(c,dpl10)))),c+=dpl10;d.isNeg=b}return d}function biCopy(a){var b=new BigInt(!0);return b.digits=a.digits.slice(0),b.isNeg=a.isNeg,b}function biFromNumber(a){var b=new BigInt;b.isNeg=a<0,a=Math.abs(a);var c=0;while(a>0)b.digits[c++]=a&maxDigitVal,a>>=biRadixBits;return b}function reverseStr(a){var b="";for(var c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function biToString(a,b){var c=new BigInt;c.digits[0]=b;var d=biDivideModulo(a,c),e=hexatrigesimalToChar[d[1].digits[0]];while(biCompare(d[0],bigZero)==1)d=biDivideModulo(d[0],c),digit=d[1].digits[0],e+=hexatrigesimalToChar[d[1].digits[0]];return(a.isNeg?"-":"")+reverseStr(e)}function biToDecimal(a){var b=new BigInt;b.digits[0]=10;var c=biDivideModulo(a,b),d=String(c[1].digits[0]);while(biCompare(c[0],bigZero)==1)c=biDivideModulo(c[0],b),d+=String(c[1].digits[0]);return(a.isNeg?"-":"")+reverseStr(d)}function digitToHex(a){var b=15,c="";for(i=0;i<4;++i)c+=hexToChar[a&b],a>>>=4;return reverseStr(c)}function biToHex(a){var b="",c=biHighIndex(a);for(var d=biHighIndex(a);d>-1;--d)b+=digitToHex(a.digits[d]);return b}function charToHex(a){var b=48,c=b+9,d=97,e=d+25,f=65,g=90,h;return a>=b&&a<=c?h=a-b:a>=f&&a<=g?h=10+a-f:a>=d&&a<=e?h=10+a-d:h=0,h}function hexToDigit(a){var b=0,c=Math.min(a.length,4);for(var d=0;d<c;++d)b<<=4,b|=charToHex(a.charCodeAt(d));return b}function biFromHex(a){var b=new BigInt,c=a.length;for(var d=c,e=0;d>0;d-=4,++e)b.digits[e]=hexToDigit(a.substr(Math.max(d-4,0),Math.min(d,4)));return b}function biFromString(a,b){var c=a.charAt(0)=="-",d=c?1:0,e=new BigInt,f=new BigInt;f.digits[0]=1;for(var g=a.length-1;g>=d;g--){var h=a.charCodeAt(g),i=charToHex(h),j=biMultiplyDigit(f,i);e=biAdd(e,j),f=biMultiplyDigit(f,b)}return e.isNeg=c,e}function biToBytes(a){var b="";for(var c=biHighIndex(a);c>-1;--c)b+=digitToBytes(a.digits[c]);return b}function digitToBytes(a){var b=String.fromCharCode(a&255);a>>>=8;var c=String.fromCharCode(a&255);return c+b}function biDump(a){return(a.isNeg?"-":"")+a.digits.join(" ")}function biAdd(a,b){var c;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biSubtract(a,b),b.isNeg=!b.isNeg;else{c=new BigInt;var d=0,e;for(var f=0;f<a.digits.length;++f)e=a.digits[f]+b.digits[f]+d,c.digits[f]=e&65535,d=Number(e>=biRadix);c.isNeg=a.isNeg}return c}function biSubtract(a,b){var c;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biAdd(a,b),b.isNeg=!b.isNeg;else{c=new BigInt;var d,e;e=0;for(var f=0;f<a.digits.length;++f)d=a.digits[f]-b.digits[f]+e,c.digits[f]=d&65535,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(d<0);if(e==-1){e=0;for(var f=0;f<a.digits.length;++f)d=0-c.digits[f]+e,c.digits[f]=d&65535,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(d<0);c.isNeg=!a.isNeg}else c.isNeg=a.isNeg}return c}function biHighIndex(a){var b=a.digits.length-1;while(b>0&&a.digits[b]==0)--b;return b}function biNumBits(a){var b=biHighIndex(a),c=a.digits[b],d=(b+1)*bitsPerDigit,e;for(e=d;e>d-bitsPerDigit;--e){if((c&32768)!=0)break;c<<=1}return e}function biMultiply(a,b){var c=new BigInt,d,e=biHighIndex(a),f=biHighIndex(b),g,h,i;for(var k=0;k<=f;++k){d=0,i=k;for(j=0;j<=e;++j,++i)h=c.digits[i]+a.digits[j]*b.digits[k]+d,c.digits[i]=h&maxDigitVal,d=h>>>biRadixBits;c.digits[k+e+1]=d}return c.isNeg=a.isNeg!=b.isNeg,c}function biMultiplyDigit(a,b){var c,d,e;result=new BigInt,c=biHighIndex(a),d=0;for(var f=0;f<=c;++f)e=result.digits[f]+a.digits[f]*b+d,result.digits[f]=e&maxDigitVal,d=e>>>biRadixBits;return result.digits[1+c]=d,result}function arrayCopy(a,b,c,d,e){var f=Math.min(b+e,a.length);for(var g=b,h=d;g<f;++g,++h)c[h]=a[g]}function biShiftLeft(a,b){var c=Math.floor(b/bitsPerDigit),d=new BigInt;arrayCopy(a.digits,0,d.digits,c,d.digits.length-c);var e=b%bitsPerDigit,f=bitsPerDigit-e;for(var g=d.digits.length-1,h=g-1;g>0;--g,--h)d.digits[g]=d.digits[g]<<e&maxDigitVal|(d.digits[h]&highBitMasks[e])>>>f;return d.digits[0]=d.digits[g]<<e&maxDigitVal,d.isNeg=a.isNeg,d}function biShiftRight(a,b){var c=Math.floor(b/bitsPerDigit),d=new BigInt;arrayCopy(a.digits,c,d.digits,0,a.digits.length-c);var e=b%bitsPerDigit,f=bitsPerDigit-e;for(var g=0,h=g+1;g<d.digits.length-1;++g,++h)d.digits[g]=d.digits[g]>>>e|(d.digits[h]&lowBitMasks[e])<<f;return d.digits[d.digits.length-1]>>>=e,d.isNeg=a.isNeg,d}function biMultiplyByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,b,c.digits.length-b),c}function biDivideByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,b,c.digits,0,c.digits.length-b),c}function biModuloByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,0,b),c}function biCompare(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function biDivideModulo(a,b){var c=biNumBits(a),d=biNumBits(b),e=b.isNeg,f,g;if(c<d)return a.isNeg?(f=biCopy(bigOne),f.isNeg=!b.isNeg,a.isNeg=!1,b.isNeg=!1,g=biSubtract(b,a),a.isNeg=!0,b.isNeg=e):(f=new BigInt,g=biCopy(a)),new Array(f,g);f=new BigInt,g=a;var h=Math.ceil(d/bitsPerDigit)-1,i=0;while(b.digits[h]<biHalfRadix)b=biShiftLeft(b,1),++i,++d,h=Math.ceil(d/bitsPerDigit)-1;g=biShiftLeft(g,i),c+=i;var j=Math.ceil(c/bitsPerDigit)-1,k=biMultiplyByRadixPower(b,j-h);while(biCompare(g,k)!=-1)++f.digits[j-h],g=biSubtract(g,k);for(var l=j;l>h;--l){var m=l>=g.digits.length?0:g.digits[l],n=l-1>=g.digits.length?0:g.digits[l-1],o=l-2>=g.digits.length?0:g.digits[l-2],p=h>=b.digits.length?0:b.digits[h],q=h-1>=b.digits.length?0:b.digits[h-1];m==p?f.digits[l-h-1]=maxDigitVal:f.digits[l-h-1]=Math.floor((m*biRadix+n)/p);var r=f.digits[l-h-1]*(p*biRadix+q),s=m*biRadixSquared+(n*biRadix+o);while(r>s)--f.digits[l-h-1],r=f.digits[l-h-1]*(p*biRadix|q),s=m*biRadix*biRadix+(n*biRadix+o);k=biMultiplyByRadixPower(b,l-h-1),g=biSubtract(g,biMultiplyDigit(k,f.digits[l-h-1])),g.isNeg&&(g=biAdd(g,k),--f.digits[l-h-1])}return g=biShiftRight(g,i),f.isNeg=a.isNeg!=e,a.isNeg&&(e?f=biAdd(f,bigOne):f=biSubtract(f,bigOne),b=biShiftRight(b,i),g=biSubtract(b,g)),g.digits[0]==0&&biHighIndex(g)==0&&(g.isNeg=!1),new Array(f,g)}function biDivide(a,b){return biDivideModulo(a,b)[0]}function biModulo(a,b){return biDivideModulo(a,b)[1]}function biMultiplyMod(a,b,c){return biModulo(biMultiply(a,b),c)}function biPow(a,b){var c=bigOne,d=a;for(;;){(b&1)!=0&&(c=biMultiply(c,d)),b>>=1;if(b==0)break;d=biMultiply(d,d)}return c}function biPowMod(a,b,c){var d=bigOne,e=a,f=b;for(;;){(f.digits[0]&1)!=0&&(d=biMultiplyMod(d,e,c)),f=biShiftRight(f,1);if(f.digits[0]==0&&biHighIndex(f)==0)break;e=biMultiplyMod(e,e,c)}return d}(function(a){a.fn.extend({loginService:function(){function m(){function e(a){a=a||32;var b="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",c=b.length,d="";for(i=0;i<a;i++)d+=b.charAt(Math.floor(Math.random()*c));return d}var h=c.val();if(h==""){j.html("请输入账号<br/>"),j.show();return}c.blur();var m=d.val();if(m==""){j.html("请输入密码<br/>"),j.show();return}var n=f.val();if(n==""){j.html("请输入验证码<br/>"),j.show();return}var o=b.find("input[name=location]"),p=o.val();a.isBlank(p)&&o.val(location.href),setMaxDigits(130);var q=new HelloShit(l.val(),"",k.val());d.val(e(d.val().length)),g.val(hzasieckses(q,encodeURIComponent(m))),b.submit()}var b=a(this),c=b.find("input[name=username]"),d=b.find("input[name=passwd]"),e=b.find("input[name=login]"),f=b.find("input[name=rand]"),g=b.find("input[name=sp]"),h=b.find(".change_img"),j=a("#zhLoginmsg"),k=b.find("input#m"),l=b.find("input#e");b.zhVerifyImg=a("p[id^='hidden_captcha_']").find(".randimg").attr("src"),c.blur(function(){var c=this.value,d=this.oldval;!a.isBlank(c)&&c!=d&&(this.oldval=c,a.isZhUser="-",a("#msg").html(""),a("#msg").hide(),b.requestCaptcha())}),f.focus(function(){a(document).keydown(function(a){a.stopPropagation(),a.keyCode==13&&m()})}),e.click(m),h.click(function(){b.requestCaptcha()})},requestCaptcha:function(){var a=this,b=a.find("input[name=username]"),c=b.val(),d=a.zhVerifyImg+"?r="+Math.random();a.find(".randimg").attr("src",d),a.find("input[name=rand]").val(""),a.find("[id^='hidden_captcha_']").show()}}),a.extend({regUrl:"http://passport.zongheng.com/reg.do",checkUserUrl:"http://passport.zongheng.com/checkNativeUser.do",zhLogin:"http://passport.zongheng.com/simpleLogin.do",isZhUser:"-",msgFlag:!1,isBlank:function(b){return b==null||a.trim(b).length==0||a.trim(b)=="null"}})})(jQuery),$(function(){var a=$("#zhLoginmsg"),b=$("#errorMsg").val();$("#login_form").loginService(),$("#prelogin_form").loginService(),$("#error").val()!=""?($("#error").val()=="1"&&(a.html("使用腾讯QQ登陆失败！<br/>"),a.show()),$("#error").val()=="100"&&(a.html("目前纵横暂时不支持第三方新增用户，请使用百度第三方登录。<br/>"),$("#loginway_tab").html("目前纵横暂时不支持第三方新增用户，请使用百度第三方登录。<br/>"),$("#login_panel").children("div.con").find("div.tabpanel[tabId=2]").show().siblings().hide(),a.show()),$("#error").val()=="1010"&&(a.html("使用百度账号登陆失败！<br/>"),a.show())):b!=""&&(a.html(b),a.show())});var getPara=function(key){var data=location.href.split("?")[1];return!data||data==null?null:(data="{"+data+'"}',data=data.replace("https://","").replace("http://","").replace(/&/g,'",').replace(/=/g,':"'),data=eval("("+data+")"),data[key]?data[key]:null)};$(function(){if(getPara("logintype")=="zh")return $("#loginway_tab span").html("纵横账号登录"),$(".pass_ad").hide(),$(".login").css({"float":"none",margin:"0 auto 20px"}),$(".passbg").css("background","url(http://static.zongheng.com/v2014/images/bdpass/zhlogin_bg.jpg) #f1f2f3"),$("#login_panel").find("div.con").find("div.tabpanel[tabId=1]").show().siblings().hide(),$("#login_form").find("a.js_qq_login").click(function(){var a=function(){var a="http://openapi.qzone.qq.com/oauth/show?which=Login&response_type=code&client_id=100300893&redirect_uri="+encodeURIComponent("http://passport.zongheng.com/qqLogin.do?"+location.href)+"&scope=get_user_info,list_album,upload_pic";return location.href=a,!1};window.top.eval("("+a.toString()+")()")}),!1;var a=getPara("location");a==null&&(a=encodeURIComponent("http://www.zongheng.com"));var b="http://zongheng.baidu.com/sendbduss.do?source=0&location="+a+"&_t="+(new Date).getTime();$.getScript("http://passport.baidu.com/passApi/js/wrapper.js?cdnversion="+(new Date).getTime(),function(){passport.use("login",{tangram:!0},function(a){var c=new a.passport.login({product:"zongheng",staticPage:location.protocol+"//"+location.hostname+"/v3Jump.html",charset:"utf-8",memberPass:!0,hasRegUrl:!0,loginType:2,defaultCss:!1,loginMerge:!0,autosuggest:!0,hasPlaceholder:!0,registerLink:"https://passport.baidu.com/v2/?reg&color=brown&tpl=zongheng&u=http%3A%2F%2Fwww.zongheng.com%2F",u:b,authsiteLogin:["qzone","tsina"],sms:!0,isPhone:!1,safeFlag:0});c.render("zongheng_pass_wap"),$("#pass-phoenix-list-login").append('<span class="zongheng_loginico" id="zongheng_tab" title="纵横账号登录"></span>'),CookieUtil.getCookie("zhtip")!="1"&&getPara("logintype")!="zh"&&($("#pass-phoenix-list-login").append('<div id="zhtip"><div id="zhtip_close"></div><div style="color:#ed2525;text-align:center;padding-top:85px;font-size:12px">纵横老用户，请点击这里登录!</div></div>'),$("body").append('<div id="marktip" style="display: block; width: 100%; height: 100%; position: fixed; left: 0px; top: 0px; z-index: 990; background-color: rgb(0, 0, 0); opacity: 0.5; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" scrolling="no" style="top: 0px; left: 0px; width: 100%; height: 100%; border: 0px solid #5183dc; background-color: transparent; z-index: 9991; overflow: hidden;" src="about:blank"></iframe></div>')),$("#zhtip_close").click(function(a){$("#marktip,#zhtip").hide(),CookieUtil.setCookie({name:"zhtip",value:"1",expires:31104e3,path:"/",domain:"passport.zongheng.com"})})})}),$("#zongheng_tab").live("click",function(){getPara("location")?location.href="http://passport.zongheng.com/?logintype=zh&location="+getPara("location"):location.href="http://passport.zongheng.com/?logintype=zh"})});var RSAAPP={};RSAAPP.NoPadding="NoPadding",RSAAPP.PKCS1Padding="PKCS1Padding",RSAAPP.RawEncoding="RawEncoding",RSAAPP.NumericEncoding="NumericEncoding";var biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998,maxDigits,ZERO_ARRAY,bigZero,bigOne;setMaxDigits(20);var dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535)