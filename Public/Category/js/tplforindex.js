var YDTPL=window.YDTPL={};YDTPL.addTabContent=function(e,f,c){var g=$(".tabs .crt","#"+e),a=$(".tabs ul li","#"+e).index(g);if(g.attr("complated")=="true"){return}var b=f[a]["dataurl"],d=f[a]["contentid"];YDTPL.aGetData(g,b,c,d)};YDTPL.aGetData=function(d,b,a,c){$("#"+c).addClass("m-loading");jQuery.ajax({type:"GET",url:b,dataType:"json",success:function(g){if(g.success){var f=YDTPL[a](g.list);var e=$("#"+c);e.html(f);YDTPL.cutWords();e.removeClass("m-loading");if(d!="init"){d.attr("complated","true")}}}})};YDTPL.cutWords=function(){$(".j-cutted","table").each(function(){var a=$(this).attr("words")*1-1;var b=$(this).text();if(b.length>a){b=$(this).text().slice(0,a)+"..."}$(this).text(b)})};YDTPL.ranktpl=function(b){var e="";for(var f=0,a=b.length;f<a;f++){if(f>8&&f==a-1){e+="<li class='ll'>"}else{e+="<li>"}var d=b[f]["url"],g=b[f]["title"],c=f+1;e+=f<3?"<span class='top'>"+c+"</span>":"<span>"+c+"</span>";e+='<a href="'+d+'" target="_blank">'+g+"</a></li>"}return e};YDTPL.worksupdatetpl=function(j){var f="";for(var g=0,d=j.length;g<d;g++){f+=g==d-1?"<tr class='lt'>":"<tr>";var b=j[g]["url"],k=j[g]["title"],m=j[g]["latestArticleUrl"],a=j[g]["latestArticleTitle"],n=j[g]["authorSearchUrl"],e=j[g]["author"],h=j[g]["updateTime"],c=j[g]["vip"];f+='<td class="col-left"><a href="'+b+'" target="_blank" class="j-cutted" words="12">'+k+'</a></td><td class="col-ml"><a href="'+m+'" target="_blank" class="j-cutted" words="13">'+a+"</a>";f+=c==true?'<span class="png">VIP</span>':"";f+='</td><td class="col-mid"><span class="j-cutted" words="10">'+e+'</span></td><td class="col-right">'+h+"</td></tr>"}f='<tr style="height:26px;"><th class="col-left" width="">书名</th><th width="205">最新章节</th><th class="col-mid" width="120">作者</th><th class="col-right" width="132">更新时间</th></tr>'+f;return f};YDTPL.noranktpl=function(b){var e="";for(var f=0,a=b.length;f<a;f++){e+=f==a-1?"<li class='ll'>":"<li>";var d=b[f]["url"],g=b[f]["title"],c=f+1;e+='<a href="'+d+'" target="_blank">'+g+"</a></li>"}return e};